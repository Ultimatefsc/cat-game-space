namespace SpriteKind {
    export const UI = SpriteKind.create()
    export const material = SpriteKind.create()
    export const flower = SpriteKind.create()
    export const nothing = SpriteKind.create()
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile6`, function (sprite, location) {
    coffeecheck = 1
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile10`, function (sprite3, location3) {
    EscapeDoor = 1
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    Quest.sayText(CurrentQuest, 500, false)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile16`, function (sprite2, location2) {
    shiplaunch = 1
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile29`, function (sprite, location) {
    escapeplanet = 1
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.flower, function (sprite, otherSprite) {
    if (can_break_flowe == 1) {
        Cat.sayText("Yes! now i can get through.", 2000, false)
        sprites.destroyAllSpritesOfKind(SpriteKind.flower)
        CurrentQuest = "Defeat the evil? alien."
        Alien = sprites.create(img`
            ....................
            .......1111.........
            ........11..........
            .....88855222.......
            .....88855222.......
            ....7888552227......
            ....7777777777......
            ....7ff7777ff7......
            ....7ff7777ff7......
            ....7777777777......
            ....77f7777f77......
            ....777f77f777......
            ....7777ff7777......
            ....7777777777......
            ....7777777777......
            ........77..........
            .....77777777.......
            ........77..........
            .......7777.........
            .......7..7.........
            `, SpriteKind.Enemy)
        Alien.sayText("Im gonna kill you! :) ")
        Alien.follow(Cat, 70)
        tiles.placeOnTile(Alien, tiles.getTileLocation(15, 89))
    } else {
        tiles.placeOnTile(Cat, tiles.getTileLocation(7, 118))
        Cat.sayText("Ow! wait.. how did i get back here?", 1769, false)
        info.changeLifeBy(-1)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.material, function (sprite, otherSprite) {
    sprites.destroy(otherSprite)
    Materials += 1
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile27`, function (sprite, location) {
    if (Materials == 2) {
        Materials = 0
        can_break_flowe = 1
        Cat.sayText("Yes! I made a knife! maybe i can cut through those flowers..?", 4000, false)
    } else {
        if (Materials == 3) {
            Materials = 0
            cankillalien = 1
            Cat.sayText("Ok, maybe i can kill the alien now.", 4000, false)
        }
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile28`, function (sprite, location) {
    controller.moveSprite(Cat, 30, 30)
    Cat.sayText("i think.. i can escape", 5000, false)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    if (cankillalien == 1) {
        sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)
        Cat.sayText("I almost feel bad..", 2000, false)
        Cat.sayText("maybe that alien had a ship..?", 4500, false)
        CurrentQuest = "Find the Alien ship."
    } else {
        tiles.placeOnTile(Cat, tiles.getTileLocation(7, 118))
        Cat.sayText("Ow! wait.. how did i get back here?", 1769, false)
        info.changeLifeBy(-1)
    }
})
let Alien: Sprite = null
let escapeplanet = 0
let Materials = 0
let cankillalien = 0
let can_break_flowe = 0
let EscapeDoor = 0
let CurrentQuest = ""
let Quest: Sprite = null
let shiplaunch = 0
let Cat: Sprite = null
let coffeecheck = 0
music.play(music.createSong(hex`0078000408020400001c00010a006400f401640000040000000000000000000000000005000004380000000400012c04000800012908000c00012210001400012514001800012418001c0001251c002000012920002c000225273000340002202501001c000f05001202c102c201000405002800000064002800031400060200042e002000240002222c28002c0001242c00300002202a30003400012a34003800021e2238003c0002292a3c004000012507001c00020a006400f401640000040000000000000000000000000000000003270004000800012c0c0010000122100014000320272a14001800012518001c00012424003800021e2909010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c8002a0000000100010b0400050001090800090001051000110001071400150001061800190001071c001d000109`), music.PlaybackMode.LoopingInBackground)
game.setGameOverMessage(true, "gg ez wp")
coffeecheck = 0
Cat = sprites.create(assets.image`elgaot`, SpriteKind.Player)
scene.cameraFollowSprite(Cat)
tiles.setCurrentTilemap(tilemap`space station`)
tiles.placeOnTile(Cat, tiles.getTileLocation(13, 3))
scene.setBackgroundImage(img`
    f 
    `)
shiplaunch = 0
Cat.sayText("*stretch*", 3500, true)
animation.runImageAnimation(
Cat,
[img`
    ................................
    ................................
    ................................
    ......f.....f...................
    ......ff...ff...................
    .....f44fff44f..................
    ....f44ff4ff44f.................
    ....f444444444f...fff...........
    ....f44f444f44f...f4f...........
    ....f44f4f4f442222f4f...........
    .....f44f4f44f2222444f..........
    .....f444444ff2222444f..........
    .....f42222244ffff444f..........
    .....f444444444f4444ff..........
    .....f444444444f44fff...........
    .....f444444444fff..............
    .....fffffffffff................
    .....fffffffffff................
    ....fff......fffff..............
    ...f4f......f4fffff.............
    ..fff......fff..f44f............
    ..fff......fff...fff............
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    `,img`
    ................................
    ................................
    .....f.....f....................
    .....ff...ff....................
    ....f44fff44f...................
    ...f44f444f44f..................
    ...f444444444f..................
    ...f44f444f44f....fff...........
    ...f44f4f4f44f....f4f...........
    ....f44f4f44f22222f4f...........
    ....f444444ff22222444f..........
    .....2222222222222444f..........
    .....f42222244ffff444f..........
    .....f444444444f4444ff..........
    .....f444444444f44fff...........
    .....f444444444fff..............
    .....fffffffffff................
    .....fffffffffff................
    .....fff.....fff................
    .....f4f.....f4f................
    .....fff.....fff................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    `],
2000,
true
)
pause(4000)
Cat.sayText("looks like im the first awake, ill go grab a cup of coffee.", 5000, true)
animation.runImageAnimation(
Cat,
[img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ........f.....f.................
    ........ff...ff.................
    .......f44fff44f................
    ......f44f444f44f...............
    ......f444444444f...............
    ......f44f444f44f....fff........
    ......f44f4f4f44f....f4f........
    .......f44f4f44f22222f4f........
    .......f444444ff22222444f.......
    ........2222222222222444f.......
    ........f42222244ffff444f.......
    ........f444444444f4444ff.......
    ........f444444444f44fff........
    ........f444444444fff...........
    ........fffffffffff.............
    ........fffffffffff.............
    ........fff.....fff.............
    ........f4f.....f4f.............
    ........fff.....fff.............
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    `,img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    .........f.....f................
    .........ff...ff................
    ........f44fff44f...............
    .......f44f444f44f..............
    .......f444444444f...fff........
    .......f44f444f44f...f4f........
    .......f44f4f4f44f.22f4f........
    ........f44f4f44f2222444f.......
    ........f444444ff2222444f.......
    ........f42222244ffff444f.......
    ........f444444444f4444ff.......
    ........f444444444f44fff........
    ........f444444444fff...........
    ........fffffffffff.............
    ........fffffffffff.............
    ........fff.....fff.............
    ........f4f.....f4f.............
    ........fff.....fff.............
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    `],
1,
true
)
pause(5500)
animation.stopAnimation(animation.AnimationTypes.All, Cat)
Quest = sprites.create(img`
    . . . . . . . . . . . . e . . . 
    . . . e e e e e e e e e . . . . 
    . . e d d d d d d d d e . . . . 
    . . . e d e d e d e e e . . . . 
    . . . e e d e d e d d e . . . . 
    . . . e d d d d d d d e e . . . 
    . . . e e e d e e e e e e . . . 
    . . . e d d e d e d e e e . . . 
    . . . e d d d d d d d d e . . . 
    . . . e e e d d e e e e e . . . 
    . . . e e e e e e d e e e . . . 
    . . . e d d d d d d d d e e . . 
    . . . . e e e e e e e e . . . . 
    . . e e . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.UI)
Quest.setPosition(101, 38)
Quest.follow(Cat, 90)
Quest.sayText("Press \"Space\" For Objective Details.", 2000, false)
controller.moveSprite(Cat, 50, 50)
CurrentQuest = "Find coffee"
pauseUntil(() => coffeecheck == 1)
effects.confetti.startScreenEffect()
tiles.setCurrentTilemap(tilemap`level3`)
tiles.placeOnTile(Cat, tiles.getTileLocation(3, 12))
music.play(music.melodyPlayable(music.beamUp), music.PlaybackMode.InBackground)
pause(1500)
Cat.sayText("Uhhhh... Whats that sound??", 2500, false)
pause(3000)
Cat.sayText("AHHH! THE SHIPS GONNA EXPLODE!", 2500, false)
scene.cameraShake(5, 15000)
controller.moveSprite(Cat, 100, 100)
EscapeDoor = 0
CurrentQuest = "Escape the rocket!"
pauseUntil(() => EscapeDoor == 1)
tiles.setCurrentTilemap(tilemap`level4`)
tiles.placeOnTile(Cat, tiles.getTileLocation(7, 53))
Cat.sayText("I need to launch! hopefully the others can escape...", 3000, false)
CurrentQuest = "Press the button."
pauseUntil(() => shiplaunch == 1)
tiles.setCurrentTilemap(tilemap`level5`)
tiles.placeOnTile(Cat, tiles.getTileLocation(6, 17))
effects.confetti.endScreenEffect()
effects.starField.startScreenEffect()
CurrentQuest = "Drift through space."
pause(5000)
Cat.sayText("where am i going.. im terrifed", 3000, false)
pause(3500)
Cat.sayText("ill go ahead and *yawn* sleep... hopefully i wake up on earth... if im lucky", 7500, false)
animation.runImageAnimation(
Cat,
[img`
    ................................
    ................................
    .......................fff......
    ....................fff..f......
    .................fff..f.f.......
    ...................f.f.f........
    ..................f.f..fff......
    .........f.....f.f..fff.........
    .........ff...ff.fff............
    ........f44fff44f...............
    .......f4ff444ff4f..............
    .......f444444444f..............
    .......f44f444f44f..............
    .......f44f4f4f44f..............
    ........f44f4f44f2222...........
    ........f444444ff22222..........
    .........2222222222222..........
    .........f42222244ffff..........
    .........ffff444444f............
    .........f444fffffff............
    .........fff4444444f............
    .......fffffffffffff............
    ......f44ffffffff44f............
    .......fff......ffff............
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    `,img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    .........f.....f................
    .........ff...ff................
    ........f44fff44f...............
    .......f44f444f44f..............
    .......f444444444f..............
    .......f44f444f44f....fff.......
    .......f44f4f4f44f....f4f.......
    ........f44f4f44f22222f4f.......
    ........f444444ff22222444f......
    .........2222222222222444f......
    .........f42222244ffff444f......
    .........f444444444f4444ff......
    .........f444444444f44fff.......
    .........f444444444fff..........
    .........fffffffffff............
    .........fffffffffff............
    .........fff.....fff............
    .........f4f.....f4f............
    .........fff.....fff............
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    `],
10000,
false
)
pause(9000)
tiles.setCurrentTilemap(tilemap`level6`)
tiles.placeOnTile(Cat, tiles.getTileLocation(7, 118))
tiles.placeOnTile(Quest, tiles.getTileLocation(7, 118))
CurrentQuest = "Search the planet for resources."
pause(2100)
info.setLife(3)
Cat.sayText("Ummm... where am i..?", 2000, false)
pause(2100)
Cat.sayText("This isn't earth...", 2000, false)
can_break_flowe = 0
cankillalien = 0
Materials = 0
let rock = sprites.create(img`
    . . c c c c . . 
    . c b d d d c . 
    c b d d d d d c 
    c b b d d d d c 
    c b d b d d b c 
    c c b d b b b c 
    c c c b d d b c 
    c c b b c c c c 
    `, SpriteKind.material)
tiles.placeOnTile(rock, tiles.getTileLocation(1, 107))
let twig = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . 7 7 . . . e e . . . 
    . . . . . . 7 7 . . e e e e . . 
    . . . . . . . . 7 7 e e e b . . 
    . . . . . . . e e e e e e b . . 
    . . . . . . e e e e e e b . . . 
    . . . . . e e e e e e e b . . . 
    . . . . e e e e e e b . . . . . 
    . . . e e e e e e b . . . . . . 
    . . e e e e e b 7 . . . . . . . 
    . . . e e b b . 7 7 7 . . . . . 
    . . . e . . . . . 7 7 . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.material)
tiles.placeOnTile(twig, tiles.getTileLocation(21, 121))
let cuttableflower = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . 5 5 5 5 5 5 . . . . . 
    . . . . 5 f 5 5 5 5 f . . . . . 
    . . . 5 5 2 f 5 5 f 2 5 . . . . 
    . . 5 5 5 2 2 5 5 2 2 5 5 . . . 
    . . 5 5 5 5 5 5 5 5 5 5 5 . . . 
    . . . 5 5 5 5 5 5 5 5 5 5 . . . 
    . . . . 5 5 2 2 2 2 5 . . . . . 
    . . . . . . 7 . . . . . . . . . 
    . . . . . . 7 . . . . . . . . . 
    . . . . . . 7 . . . . . . . . . 
    . . . . . 7 7 . . . . . . . . . 
    . . . . 7 . 7 . . . . . . . . . 
    . . . . 7 . 7 . . . . . . . . . 
    . 7 . 7 7 . . 7 . . . . . . . . 
    . 7 7 7 . . . 7 7 . . . . . . . 
    `, SpriteKind.flower)
tiles.placeOnTile(cuttableflower, tiles.getTileLocation(23, 109))
cuttableflower.sayText("YOU SHANT PASS. GET TOO CLOSE, DIE.")
escapeplanet = 0
let metal_scrap = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . 1 1 . . . . . . . 
    . . . . . 1 1 d d 1 . . . . . . 
    . . . . 1 d d 1 d d 1 . . . . . 
    . . . 1 d d 1 d d d d 1 . . . . 
    . . 1 d d 1 d d 1 1 d 1 . . . . 
    . 1 d d d d d 1 1 d d 1 . . . . 
    1 d 1 1 d d 1 1 d d d 1 . . . . 
    1 1 1 d d 1 1 1 1 d 1 . . . . . 
    1 d d 1 1 d d 1 d d 1 . . . . . 
    1 d d d d d d d d 1 . . . . . . 
    . 1 d d d d d d 1 . . . . . . . 
    . . 1 1 1 1 1 1 . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.material)
tiles.placeOnTile(metal_scrap, tiles.getTileLocation(7, 94))
let rope = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . 5 5 5 5 5 5 5 . . 
    . . . . . 5 5 e e 5 e 5 5 5 . . 
    . 5 . . . 5 e e 5 5 e 5 e 5 . . 
    . 5 . . 5 5 5 5 5 e 5 e e 5 . . 
    . 5 5 5 5 e e e e e 5 e 5 5 . . 
    . . 5 5 5 e 5 5 5 5 5 5 5 . . . 
    . . . . 5 5 5 . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.material)
tiles.placeOnTile(rope, tiles.getTileLocation(30, 100))
let stick = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . 7 7 . . . e e . . . 
    . . . . . . 7 7 . . e e e e . . 
    . . . . . . . . 7 7 e e e b . . 
    . . . . . . . e e e e e e b . . 
    . . . . . . e e e e e e b . . . 
    . . . . . e e e e e e e b . . . 
    . . . . e e e e e e b . . . . . 
    . . . e e e e e e b . . . . . . 
    . . e e e e e b 7 . . . . . . . 
    . . . e e b b . 7 7 7 . . . . . 
    . . . e . . . . . 7 7 . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.material)
tiles.placeOnTile(stick, tiles.getTileLocation(36, 96))
pauseUntil(() => escapeplanet == 1)
Cat.sayText("this looks like a launch button! *press*", 4000, false)
pause(5000)
tiles.setCurrentTilemap(tilemap`level9`)
let nothing = sprites.create(img`
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    f f f f f f f f f f f f f f f f 
    `, SpriteKind.nothing)
scene.cameraFollowSprite(nothing)
game.gameOver(true)
